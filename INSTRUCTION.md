# 🏨 智能旅游酒店推荐系统

一个基于大语言模型的智能酒店推荐工具，能够分析大量用户评论并根据个人偏好提供个性化推荐。

## ✨ 功能特色

### 🎯 个性化推荐
- **智能需求分析**: 根据用户输入的自然语言需求，智能分析偏好
- **评论深度挖掘**: 自动分析数百条用户评论，提取关键信息
- **双重推荐模式**: 提供基础推荐和增强推荐两种模式

### 🔍 信息补全技术
- **地理位置推理**: 基于酒店地理位置推测相似特征
- **相似性分析**: 通过相似酒店的特征补全缺失信息
- **置信度评分**: 为推测信息提供可信度评估

### 🤖 可配置的AI后端
- **多模型支持**: 默认支持DeepSeek API，可轻松切换其他LLM
- **智能降级**: API不可用时自动切换到模拟响应模式
- **灵活配置**: 通过配置文件轻松调整模型参数

## 🚀 快速开始

### 环境要求
- Python 3.8+
- 网络连接（用于API调用）

### 安装步骤

1. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

2. **配置API密钥**（可选）
   
   编辑 `config.json` 文件，添加您的DeepSeek API密钥：
   ```json
   {
     "llm_provider": "deepseek",
     "deepseek_api_key": "YOUR_DEEPSEEK_API_KEY_HERE",
     "deepseek_base_url": "https://api.deepseek.com",
     "model_name": "deepseek-chat",
     "max_tokens": 2000,
     "temperature": 0.7
   }
   ```
   
   > 💡 **提示**: 如果不配置API密钥，系统将使用内置的模拟响应模式，仍可体验完整功能。

3. **启动应用**
   ```bash
   streamlit run app.py
   ```

4. **访问应用**
   
   在浏览器中打开显示的URL（通常是 `http://localhost:8501`）

## 📖 使用指南

### 基本使用流程

1. **输入需求**: 在文本框中描述您的酒店偏好
   - 示例: "我希望住在靠近山的地方，环境要安静，适合放松和徒步旅行"
   - 示例: "我需要交通便利的酒店，靠近市中心，方便商务活动"

2. **获取基础推荐**: 点击"🚀 获取基础推荐"按钮
   - 系统将分析所有酒店评论
   - 根据您的需求生成初步推荐列表

3. **获取增强推荐**: 点击"⭐ 获取增强推荐"按钮
   - 系统将补全缺失的酒店信息
   - 提供更准确的优化推荐列表
   - 可查看信息补全的详细过程

### 界面功能说明

#### 左侧边栏
- **系统配置**: 显示当前LLM配置和API状态
- **数据概览**: 展示酒店和评论数据统计
- **酒店列表**: 可展开查看所有可用酒店

#### 主界面
- **用户需求输入**: 自由文本输入框和示例需求选择
- **推荐结果**: 分标签页显示基础推荐和增强推荐
- **信息补全详情**: 可展开查看AI推理过程

## 🏗️ 系统架构

### 核心组件

1. **LLM客户端** (`llm_client.py`)
   - 支持DeepSeek API集成
   - 提供模拟响应降级机制
   - 可扩展支持其他LLM提供商

2. **推荐引擎** (`recommendation_engine.py`)
   - 评论主题提取和分析
   - 地理位置相似性计算
   - 信息补全和置信度评估

3. **数据层** (`hotel_data.json`)
   - 8个模拟酒店数据
   - 每个酒店包含10条详细评论
   - 涵盖山景、河景、市中心、海滩等多种场景

4. **用户界面** (`app.py`)
   - Streamlit构建的交互式Web界面
   - 响应式设计，支持多种屏幕尺寸
   - 实时状态反馈和错误处理

### 技术特点

- **智能评论分析**: 使用关键词匹配和主题提取技术
- **相似性算法**: 基于地理位置、星级、价格等多维度计算
- **置信度机制**: 为推测信息提供可信度评分
- **容错设计**: API失败时自动降级到本地处理

## ⚙️ 配置选项

### config.json 参数说明

| 参数 | 说明 | 默认值 |
|------|------|--------|
| `llm_provider` | LLM提供商 | "deepseek" |
| `deepseek_api_key` | DeepSeek API密钥 | "YOUR_DEEPSEEK_API_KEY_HERE" |
| `deepseek_base_url` | API基础URL | "https://api.deepseek.com" |
| `model_name` | 模型名称 | "deepseek-chat" |
| `max_tokens` | 最大生成token数 | 2000 |
| `temperature` | 生成温度 | 0.7 |

## 🔧 开发和扩展

### 添加新的酒店数据
编辑 `hotel_data.json` 文件，按照现有格式添加新酒店：
```json
{
  "id": "hotel_new",
  "name": "新酒店名称",
  "address": "酒店地址",
  "coordinates": {"lat": 纬度, "lng": 经度},
  "tags": {
    "star_rating": 星级,
    "amenities": ["设施列表"],
    "price_range": "价格区间"
  },
  "reviews": [
    {"user": "用户名", "rating": 评分, "text": "评论内容"}
  ]
}
```

### 集成其他LLM提供商
修改 `llm_client.py` 中的 `chat_completion` 方法，添加新的API调用逻辑。

### 自定义推荐算法
在 `recommendation_engine.py` 中修改相似性计算和特征推理逻辑。

## 🐛 故障排除

### 常见问题

**Q: 推荐结果显示为模拟响应？**
A: 请检查 `config.json` 中的API密钥配置是否正确。

**Q: 应用启动失败？**
A: 确保已安装所有依赖：`pip install -r requirements.txt`

**Q: 推荐结果不准确？**
A: 尝试更详细地描述您的需求，或配置真实的API密钥以获得更好的结果。

**Q: 信息补全详情为空？**
A: 这在模拟模式下是正常的，配置真实API密钥后会显示详细的推理过程。

## 📄 许可证

本项目仅供学习和演示使用。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

---

**💡 提示**: 为了获得最佳体验，建议配置真实的DeepSeek API密钥。这将启用完整的AI推理功能，提供更准确和个性化的推荐结果。
